{% trans_default_domain 'FOSUserBundle' %}
<section class="content">
    {{ form_start(form) }}
        <div class="row">
            <div class="col-md-12">
               {# <div class="col-md-4">#}
                    <div class="panel panel-info">
                         <div class="panel-heading">
                             <h3 class="panel-title">Informations générales</h3>
                         </div>
                        <div class="panel-body">
                            <div class="col-md-5">
                                <div>
                                    {{ form_label(form.username) }}
                                    {{ form_errors(form.username) }}
                                    {{ form_widget(form.username) }}
                                </div>
                                <div>
                                    {{ form_label(form.email) }}
                                    {{ form_errors(form.email) }}
                                    {{ form_widget(form.email) }}
                                </div>
                                <div>
                                    {{ form_label(form.photo) }} (png/jpeg/jpg)
                                    {{ form_errors(form.photo) }}
                                    {{ form_widget(form.photo) }}
                                </div>
                                <br>
                                <img src="{{ asset(app.user.URLAvatar) }}" alt="Photo de l'utilisateur" width="75" height="75"/>
                                <a href="{{ path('moove_utilisateur_supprimer_photo') }}">Supprimer ma photo</a>
                                
                            </div>
                            <div class="col-md-1"></div> {# colone de 1 que l'on place au milieu afin que les deux autres colonnes soient 
                                                        de la même taille et alignées#}
                            <div class="col-md-5">
                                <div>
                                    {{ form_label(form.nom) }}
                                    {{ form_errors(form.nom) }}
                                    {{ form_widget(form.nom) }}
                                </div>
                                <div>
                                    {{ form_label(form.prenom) }}
                                    {{ form_errors(form.prenom) }}
                                    {{ form_widget(form.prenom) }}
                                </div>
                                <div>
                                    {{ form_label(form.dateNaissance) }}
                                    {{ form_errors(form.dateNaissance) }}
                                    {{ form_widget(form.dateNaissance) }}
                                </div>
                                <div>
                                    {{ form_label(form.sexe) }}
                                    {{ form_errors(form.sexe) }}
                                    {{ form_widget(form.sexe) }}
                                </div>
                                <div>
                                    {{ form_label(form.adresseLieuResidence, "Adresse de votre lieu de résidence") }}
                                    {{ form_errors(form.adresseLieuResidence) }}
                                    {{ form_widget(form.adresseLieuResidence) }}
                                </div>
                            </div>
                        </div>
                    </div>
           </div>
       </div>
       <div class="row">
          <div class="col-lg-12">  
                <div class="col-md-6">
                    <div class="col-xs-4">
                      <input type="submit" class="btn btn-success btn-lg" value="{{ 'profile.edit.submit'|trans }}"/>
                     </div>
                     <div class="col-xs-4"> 
                      <a href="{{ path('fos_user_profile_show') }}" class="btn btn-warning btn-lg">Annuler</a><br><br>
                </div>
                </div>
                <div class="col-md-6">
                    <button type="button" class="btn btn-danger btn-lg" data-toggle="modal" data-target="#supprimer">Supprimer mon compte</button>
                </div>
             </div>         
                
            </div> 
            {# Modal #}
            <div class="modal fade" id="supprimer" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">Supprimer mon compte</h4>
                        </div>
                        <div class="modal-body">
                            Voulez-vous supprimer votre compte de façon définitive?
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Annuler</button>
                            <a href="{{ path('moove_utilisateur_supprimer_utilisateur',{'idUtilisateur':app.user.id}) }}" class="btn btn-danger">Supprimer mon compte</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
    {{ form_end(form) }}
</section>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDmo1B7t569caLPAVZZNdcoH97JCnHRqNM&signed_in=true&libraries=places&callback=initAutocomplete"
        async defer></script>
    <script>
        var input = (document.getElementById('fos_user_profile_form_adresseLieuResidence'));
        var autocomplete;
        
        function initAutocomplete() {
          // Create the autocomplete object, restricting the search to cities
          // location types.
            var options = {
              types: ['geocode'],
              componentRestrictions: {country: 'fr'}
            };
          autocomplete = new google.maps.places.Autocomplete(input, options);
        }
    </script>
