{# https://moove-arl64.c9users.io/web/app_dev.php/activites #}
{% extends "mooveActiviteBundle:Accueil:tableauDeBord.html.twig" %}

{% block activeActivites %}active{% endblock %}
{% block bodyTableau %}
    <br>
    <h3>Liste de toutes les activités auxquelles vous participez ou que vous organisez.</h3>
    <br><br>
    <div class="table-responsive">
      <table class="table table-striped table-hover ">
        <thead>
          <tr>
            <th>Sport</th>
            <th>Rendez-vous</th>
            <th>Départ</th>
            <th>Arrivée</th>
            <th>Date</th>
            <th>Participants</th>
            <th>Organisateur</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          {% for activite in tabActivites %}
          <tr>
            <td>{{ activite.sportPratique.nom }}</td>
            <td>{{ activite.lieuRDV.nom }}</td>
            <td>{% if activite.lieuDepart is not null%}{{ activite.lieuDepart.nom }}{% endif %}</td>
            <td>{% if activite.lieuArrivee is not null%}{{ activite.lieuArrivee.nom }}{% endif %}</td>
            <td>{{ activite.dateHeureRDV | date("d/m/y") }}</td>
            <td>{{ tabNbParticipants[loop.index0] ~ "/" ~ activite.nbPlaces }}</td>
            <td>{{ activite.organisateur.prenom ~ " " ~ activite.organisateur.nom }}</td>
            <td><a href="{{ path('moove_activite_detailsActivite', {idActivite: activite.id}) }}" class="btn btn-primary btn-xs">Détails</a></td>
          </tr>
          {% else %}
            <h2>Aucune activité</h2>
          {% endfor %}
      </table>
    </div>
{% endblock %}

{% block navTableau %}
<nav>
  <ul class="pagination">
    {% if page > 1 %}
        <li><a href="{{ path('moove_activite_historiqueActivite', {page: 1}) }}">&laquo;</a></li>
    {% else %}
        <li class="disabled"><a aria-label="Previous"><span aria-hidden="true">&laquo;</span></a></li>
    {% endif %}
    {% if page > 1 %}
        <li><a href="{{ path('moove_activite_historiqueActivite', {page: page - 1}) }}">&lsaquo;</a></li>
    {% else %}
        <li class="disabled"><a aria-label="Previous"><span aria-hidden="true">&lsaquo;</span></a></li>
    {% endif %}

    {% for i in 1..nbPage %}
      {% if i != page %}
        <li><a href="{{ path('moove_activite_historiqueActivite', {page: i}) }}">{{i}}</a></li>
      {% else %}
        <li class="active"><a aria-label=""><span aria-hidden="true">{{page}}</span></a></li>
      {% endif %}
    {% endfor %}

    {% if page < nbPage %}
      <li><a href="{{ path('moove_activite_historiqueActivite', {page: page + 1}) }}">&rsaquo;</a></li>
    {% else %}
      <li class="disabled"><a aria-label=""><span aria-hidden="true">&rsaquo;</span></a></li>
    {% endif %}
    {% if page < nbPage %}
      <li><a href="{{ path('moove_activite_historiqueActivite', {page: nbPage}) }}">&raquo;</a></li>
    {% else %}
      <li class="disabled"><a aria-label=""><span aria-hidden="true">&raquo;</span></a></li>
    {% endif %}
  </ul>
</nav>
{% endblock %}